<div class="table-container" [ngClass]="currentBackgroundClass">
  <div class="table-wrapper">
    <!-- Mobile-only top bar and hamburger without Tailwind -->
    <div class="mobile-topbar" [style.opacity]="mobileTopbarOpacity">
      <div class="mobile-location">Локация: {{ currentCity }}</div>
      <button class="hamburger-btn" [class.open]="menuOpen" (click)="menuOpen = !menuOpen" aria-label="Открыть меню">
        <span class="hamburger-icon" aria-hidden="true">
          <span class="bar"></span>
          <span class="bar"></span>
          <span class="bar"></span>
        </span>
      </button>
    </div>

    <!-- Mobile menu panel + backdrop -->
    <div *ngIf="menuOpen" class="mobile-menu-root">
      <div class="mobile-menu-backdrop" (click)="menuOpen = false"></div>
      <div class="mobile-menu-panel">
        <div class="mobile-menu-label">Город</div>
        <button class="mobile-menu-item" (click)="selectCity('Гертма')" [class.active]="currentCity === 'Гертма'">
          <span>Гертма</span>
          <span class="choice-pill" *ngIf="currentCity === 'Гертма'"></span>
        </button>
        <button class="mobile-menu-item" (click)="selectCity('Махачкала')" [class.active]="currentCity === 'Махачкала'">
          <span>Махачкала</span>
          <span class="choice-pill" *ngIf="currentCity === 'Махачкала'"></span>
        </button>
      </div>
    </div>
    
    <!-- Desktop table -->
    <app-desktop-table [currentDayNumber]="currentDayNumber" [currentDayTimestamps]="currentDayTimestamps" [currentMonth]="currentMonth" [currentYear]="currentYear" [currentMonthData]="currentMonthData" [currentCity]="currentCity"></app-desktop-table>
    <!-- Mobile tables -->
    <app-mobile-table [currentDayNumber]="currentDayNumber" [currentDayTimestamps]="currentDayTimestamps" [currentMonth]="currentMonth" [currentYear]="currentYear" [currentMonthData]="currentMonthData" [currentCity]="currentCity"></app-mobile-table>

<router-outlet />
