<div class="widgets-container">
  @if (widgets.length > 0) {
    <div class="widgets-grid">
      @for (widget of widgets; track trackByWidgetId($index, widget)) {
        <div 
          class="widget-wrapper" 
          [style]="getWidgetStyles(widget)"
          [attr.data-widget-id]="widget.id"
        >
          <div class="widget-header">
            <h3 class="widget-title">{{ widget.title }}</h3>
          </div>
          <div class="widget-content">
            @switch (widget.type) {
              @case (widgetType.PRAYER_TIME) {
                <app-prayer-time-widget 
                  [widgetId]="widget.id"
                  [currentDayTimestamps]="currentDayTimestamps"
                  [currentDayNumber]="currentDayNumber"
                  [currentMonth]="currentMonth"
                  [currentYear]="currentYear">
                </app-prayer-time-widget>
              }
              @default {
                <app-widget-placeholder [widget]="widget"></app-widget-placeholder>
              }
            }
          </div>
        </div>
      }
    </div>
  } @else {
    <div class="widgets-empty">
      <p>Виджеты не добавлены</p>
    </div>
  }
</div>

